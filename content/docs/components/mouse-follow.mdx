---
title: Mouse Follow
description: A performant and customisable follow mouse component built with React compound components
---

<PageBadge badges={['tailwind', 'react', 'nextjs']} />

## Demo
<FollowMouseDemo />

## Installation

Install the following dependencies:

<Tabs items={['npm', 'pnpm', 'yarn', 'bun']}>
  <Tab value="npm">
    ```shell
    npm install @radix-ui/react-slot
    ```
  </Tab>
  <Tab value="pnpm">
    ```shell
    pnpm add @radix-ui/react-slot
    ```
  </Tab>
  <Tab value="yarn">
    ```shell
    yarn add @radix-ui/react-slot
    ```
  </Tab>
  <Tab value="bun">
    ```shell
    bun add @radix-ui/react-slot
    ```
  </Tab>
</Tabs>

Copy and paste the following code into your project.

```tsx title="mouse-follow.tsx"
"use client";

import { cn } from "@/lib/utils";
import { Slot } from "@radix-ui/react-slot";
import * as React from "react";

interface MouseContextType {
  isVisible: boolean;
  x: number;
  y: number;
}

const MouseContext = React.createContext<MouseContextType | null>(null);

function MouseFollowContent({
  asChild,
  className,
  ...props
}: React.ComponentProps<"div"> & { asChild?: boolean }) {
  const [mouseState, setMouseState] = React.useState<MouseContextType>({
    isVisible: false,
    x: 0,
    y: 0,
  });

  const handleMouseEnter = () => {
    setMouseState((prev) => ({ ...prev, isVisible: true }));
  };

  const handleMouseLeave = () => {
    setMouseState((prev) => ({ ...prev, isVisible: false }));
  };

  const handleMouseMove = React.useCallback(
    (e: React.MouseEvent<HTMLDivElement>) => {
      setMouseState({
        isVisible: true,
        x: e.clientX,
        y: e.clientY,
      });
    },
    []
  );

  const Comp = asChild ? Slot : "div";

  return (
    <MouseContext.Provider value={mouseState}>
      <Comp
        data-slot="mouse-follow-content"
        className={className}
        onMouseEnter={handleMouseEnter}
        onMouseLeave={handleMouseLeave}
        onMouseMove={handleMouseMove}
        {...props}
      />
    </MouseContext.Provider>
  );
}
MouseFollowContent.displayName = "MouseFollowContent";

interface MouseFollowItemProps extends React.ComponentProps<"div"> {
  offsetX?: number;
  offsetY?: number;
}

function MouseFollowItem({
  offsetX = 0,
  offsetY = 0,
  className,
  ...props
}: MouseFollowItemProps) {
  const context = React.useContext(MouseContext);

  if (!context) {
    console.error("MouseFollowItem must be used inside MouseFollowContent");
    return null;
  }

  const { isVisible, x, y } = context;

  return (
    <div
        data-slot="mouse-follow-item"
        className={cn(
          "pointer-events-none fixed",
          isVisible
            ? "scale-100 transition-transform duration-150"
            : "scale-0 duration-0",
          className
        )}
        style={{
          left: x + offsetX,
          top: y + offsetY,
          transform: "translate(-50%, -50%)",
        }}
        {...props}
      />
  )
}
MouseFollowItem.displayName = "MouseFollowItem";

export { MouseFollowContent, MouseFollowItem };
```

## Usage

```tsx
import { MouseFollowContent, MouseFollowItem } from "@/components/mouse-follow";
```


### Basic
```tsx title="page.tsx"
<MouseFollowContent asChild>
  <div className="my-card-container">
    <span>Card content</span>
    <MouseFollowItem>
        <MyCustomFollowCursorComponent>
    </MouseFollowItem>
  </div>
</MouseFollowContent>
```

### Custom position
```tsx title="page.tsx"
<MouseFollowContent asChild>
  <div className="my-card-container">
    <span>Card content</span>
    <MouseFollowItem offsetX={40} offsetY={30}>
        <div>Follow cursor at the bottom right</div>
    </MouseFollowItem>
  </div>
</MouseFollowContent>
```

### Global
You can also wrap your entire page in the MouseFollowContent component to make it follow the mouse cursor everywhere.

```tsx title="layout.tsx"
export default function Layout({ children }) {
  return (
    <html>
        <MouseFollowContent>
            <body className="flex flex-col min-h-svh">
                {children}
                <MouseFollowItem>
                    <span>Follow everywhere</span>
                </MouseFollowItem>
            </body>
        </MouseFollowContent>
    </html>
  );
}
```

## Props

### MouseFollowContent

| Prop | Type | Default Value | Description |
|------|------|---------|-------------|
| asChild | `boolean` | false | Whether to render the component as a child |
| className? | `string` | - | Additional classes for the component |

### MouseFollowItem

| Prop | Type | Default Value | Description |
|------|------|---------|-------------|
| offsetX? | `number` | 0 | The horizontal offset of the item |
| offsetY? | `number` | 0 | The vertical offset of the item |
| className? | `string` | - | Additional classes for the item |